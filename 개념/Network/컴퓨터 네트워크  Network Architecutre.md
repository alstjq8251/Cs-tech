# Protocal Layer

### Potocal 이란?

![image](https://user-images.githubusercontent.com/98382954/180723439-36965710-43f5-418d-bada-75761cecd928.png)
 - 프로토콜(protocol)이란 표준화된 절차를 서술한 규칙의 체계를 말하는 것으로, 규약(規約)이라고도 한다. <br> 쉽게 네트워크 상 컴퓨터간의 대화라고 이해하는데 여기서 대화란 데이터를 주고 받는 것 <br>즉 통신 주체들 사이의 언제 어떻게 어떤 내용을 통신할 지를 정하는 규칙이라고도 말한다.

### Protocal의 개요
- 프로토콜은 공통의 데이터 교환 방법 및 순서에 대해 정의한 의사소통 약속, 규약 혹은 규칙 체계를 말한다.
- 일반적으로 프로토콜은 통신 프로토콜을 의미하게 되는데 통신 프로토콜 또는 통신 규약은 컴퓨터나 원거리 통신 장비 사이에서 <br>메시지를 주고받는 양식과 규칙의 체계를 뜻한다.
- 통신 프로토콜 또는 규약은 신호 체계, 인증, 오류 감지 및 수정 기능 등을 포함할 수 있는데 언어외에도 데이터가 어떤 과정과 <br>절차를 통해 송신했는지, 수신측에서는 어떻게 원래의 데이터로 복구할 수 있는지와 같은 약속도 프로토콜, 규약에 포함된다.
- 프로토콜은 물리적, 소프트웨어적인 면등 다양한 측면을 고려하여 결정하게 되는데 동일한 통신망을 이용하더라도 같은 프로토콜을 <br> 이용하는 컴퓨터들 사이에서만 통신이 가능하다.
- 컴퓨터 끼리 혹은 다른 단말기와 통신이 필요한 경우 정보를 원활하게 교환하게 해주는 ~~기능에서 기술~~ 여러 통신 규칙과 방법의 집합이고<br> 상호간에 이해할 수 있는 데이터를 신뢰성이 유지되도록 하는 표현 형식이다.
- - 이기종간의 통신시 표준 프로토콜을 이용해 통신망을 설정해야 하며 단순 메시지 전송 외 프로세스간 파일 접근 및 DB에 접근 <br> 제어 처리 등 통신기능을 실현하려면 프로토콜을 사용해야만 한다. __이기종간엔 protocal이 다르기 때문에 표준 프로토콜을 각각 <br>채용하여 통신망을 구성해야 통신이 가능하기 때문이다.__
 ##### 표준 프로토콜이 만들어져 있지 않을 때 자사 제품간 독자적인 체계를 만들었기에 이기종간 통신이 매우 어려웠는데 원활하고 확실한 통신을 위해 <br>각 수준의 통신 규약을 완전하게 규정하고 표준화 할 필요하게 되어 국제적으론 국제표준화기구(ISO) 국제전기통신연합(ITU)등이 표준화를 시도하고 있다.
 ##### 데이터 통신 전반의 규칙을 표준화한 대표적인 것이 ISO에서 작성한 OSI 모델이며 공중 데이터망(PDN)에 통신 규약을 표준화한 것이 ITU-T에서 작성한<br> X계열의 권고이며 OSI참조 모델과 다르며 개방형 시스템 간 상호 접속(OSI)이 개발되기 전 널리 사용된 통신 규약은 최초로 프로토콜을 표준화한 IBM의 SNA(System Network Architeture)이다. <br>인터넷용으로 개발되어 통신규약으로 사용되는 것은 TCP/IP이다.
  
### 프로토콜의 구성 요소
 - 프로토콜은 구문(syntax), 의미(sematic), 타이밍(timing)으로 구성되어 있다.
 - + `구문`은 데이터를 어떻게 구성할 지에 대한 형식, 구체적인 코딩 방법, 신호 레벨 등에 대한 형식을 규정한다. 
 - - `의미`는 데이터에 대하여 구체적으로 어떻게 제어할 것인지에 대한 처리 방법과 오류가 발생했을 때 어떻게 처리할 것인가에 대한 정보를 포함한다. 
 - - `타이밍`은 통신이 이루어질 때 데이터를 주고받을 속도에 대한 조절과, 여러 데이터가 동시에 통신을 해야 할 경우 순서 관리를 위한 기법을 포함한다.

### 프로토콜의 특징
- 네트워크는 계층으로 분리되어 각 계층에서 사용되는 프로토콜이 다른데 프로토콜은 계층적 관점에서 논리적인 측면, 물리적인 측면으로 <br>구분이 가능하다.
- `물리적인 측면`에선 프로토콜은 자료 전송에 쓰이는 전송 매체, 접속용 단자 및 전송신호, 회신규격 등을 말한다.
- `논리적인 측면`프로토콜은 프레임의 구성, 프레임 안에 있는 각 항목의 뜻과 기능, 자료 전송의 절차 등을 담게 되는데 <br>이 프로토콜은 폐쇄적인 프로토콜과 범용 프로토콜로 구분이 가능하다.
- > `폐쇄적인 프로토콜`  각 기업의 장치들끼리 통신하기 위한 독자적인 통신 규약이며, 자세한 규격이 공개되어 있지 않아, 크래킹 위협에 <br>상대적으로 안전하다
- > `범용 프로토콜` 공개된 범용 프로토콜은 여러 장치에 쓰이는 널리 알려진 규격이며, 규격이 널리 공개되어 있어, 컴퓨터와 네트워크 <br>크래킹에 취약한 편이다
- > > `크래킹` 다른 사람의 통신망이나 컴퓨터 시스템에 정당한 접근 권한 없이 접근하거나 허용된 접근 권한의 범위를 초과하여 침입하는 행위를 말한다. <br>크래킹은 해킹(Hacking)과 비슷한 의미로 사용되는 용어로서, 불법적 접근을 통해 다른 사람의 컴퓨터 시스템이나 통신망을 파괴하는 행위를 일컫는다.

- 프로토콜은 특성에 따라 직접 프로토콜과 간접 프로토콜, 단일체 프로토콜과 구조적 프로토콜, 대칭 프로토콜과 비대칭 프로토콜 등이 있다.

### 프로토콜의 기능
<img width="85%" height="10%" alt="image" src="https://user-images.githubusercontent.com/98382954/180732602-a857ee09-6df8-4898-8151-ff5cead6a0c9.png"><br>
- `주소설정(Addressing)` 통신을 하려면 통신의 대상이 누구인지를 알아야 데이터를 전송할 수 있다. 프로토콜에는 각 전송 계층에 맞는 주소를 <br>지정하는 기능이 있다
- `순서제어(Sequence Control):` 순서제어란 프로토콜 데이터 단위((Protocol Data Unit, PDU)가 전송될 때 순서를 명시하는 기능이며, 연결 지향형에만 사용한다. 순서를 지정하는 이유는 흐름제어, 혼잡제어, 오류제어를 위해서다. <br>순서제어에 의해서 정해진 프로토콜 데이터 단위를 수신측에 보내면 순서에 맞게 데이터를 재구성하고, 오류가 있을 경우 <br>재전송을 요청한다. <br>해커는 순서제어의 특성을 이용해 순서가 뒤죽박죽인 패킷을 생성하여 보내, 시스템 과부하를 야기하기도 한다.
- `분할 및 재조립(Fragmentation&Reassembly)` 데이터의 크기와 종류는 다양한데, 한꺼번에 덩어리가 큰 데이터를 전달하는 것은 통신에 있어서 비효율적이기 때문에 하나의 데이터를 전송 효율이 높은 작은 단위로 분할하여 전송하고 수신측에서는 해당 데이터를 사용하기 위해 재조립하는 과정을 거친다. <br>해커는 이런 과정에서 데이터 분할 기능을 이용해 대량의 패킷을 공격 대상에게 보내기도 하고, 재조합 불가능한 데이터를 보내 <br>혼란에 빠뜨리기도 한다.
- `캡슐화(Encapsulation)` 프로토콜 데이터 단위(PDU)는 PCI(Protocol Control Informaion, PCI)와 서비스 데이터 단위(Sercive Data Unit, SDU)로 구성된다. PCI는 발신지 주소, 수신지 주소, 순서 번호, 오류 검출 코드 등 각종 헤더 정보를 담고 있고, 서비스 데이터 단위에는 <br>실제 서비스 데이터 정보를 담고 있다. 통신을 구성하는 각각의 계층을 통과하기 위해서는 캡슐화를 통해 포장하는 과정을 거치며, 데이터를 사용하기 위해서는 수신측에서 캡슐화된 데이터를 역캡슐화 하는 과정을 통해 각각의 계층을 통과한다. <br>캡슐화는 해커로부터 자신의 통신 내용을 숨길 수 있게 해준다.
- `흐름 제어(Flow Control)` 수신 장치의 데이터가 초과되어 상호 간에 데이터 손실이 발생하지 않도록 전송되는 정보 흐름의 양, 속도를 조절, 조정, 제어하기 위한 송신장치 제어 방법 혹은 기술이다. 수신 노드가 수신 확인응답을 송신 노드에 제공함으로써 흐름제어가 수행되는데, 수신 확인응답 방식은 2가지가 있다.
  1. 정지-대기(Stop and wait): 패킷에 대한 응답을 받은 후에 다음 패킷을 보내는 방식으로, 가장 단순한 형태의 자동 재전송 요구(ARQ)로서, 송신 측이 1개의 블록을 전송하면, 수신 측에서 오류의 발생을 점검하여 전송 중 오류가 발생하지 않았을 경우 긍정 응답(ACK)을, 오류가 발생하였을 경우 부정 응답(NAK)을 보낼 때까지 기다리는 방식이다. 이에 따라 송신 측은 다음의 데이터 블록을 전송하거나, 오류가 발생한 데이터 블록을 재전송한다.
  2. 슬라이딩 윈도우(sliding window): 가용 데이터 분량의 패킷을 한꺼번에 보낸 후 응답 패킷을 받으면 다시 그만큼의 데이터를 한꺼번에 보내는 방식이다.
    세그먼트를 전송할 때마다 수신확인응답을 수신한 후 전송하게 되면, 왕복 시간인 RTT(Round Trup Rime)가 길 경우, 단위 시간당 데이터 전송량(Throughput)이 매우 떨어지므로, 효율적으로 전송하기 위해 상대방이 받을 수 있는 범위 내에서 연속적으로 전송한다. 
    이 방식에서는 송수신 흐름을 위해서 각 프레임에 순서 번호를 부여한다. 
      - 순서번호를 부여하여 수신측에서 기대하는 다음 프레임의 순서번호를 포함하는 확인응답 번호를 <br>송신측에 보내줌으로써 계속 받을 수 있는 프레임들의 번호를 알려준다
- `혼잡 제어(Congestion Control)` 네트워크의 혼잡 정도에 따라서 송신자가 데이터의 전송량을 제어하는 것을 말한다. 혼잡 정도에 대한 판단기준은 데이터의 손실 발생 유무로 판단한다. 전송한 데이터에 누락이 발생하면 네트워크가 혼잡한 상태로 판단하여 전송량을 조절하는 것인데, <br>손실, 폐기, 지연 등이 누락에 해당한다. 물리적인 네트워크 장애나, TTL(Time To Live) 초과 등은 손실에, 데이터 오류 등으로 인한 폐기는 <br>폐기에, 네트워크 혼잡 등에 의한 지연은 지연에 해당한다.
- `연결 제어(Connection Control)` 연결제어는 연결 지향형 데이터 전송(Connection oriented data transfer)과 비연결 지향형 데이터 <br>전송(Connectionless data transfer) 두 가지 방식이 있다. 
  - `연결 지향형 데이터 전송`은 두 시스템이 서로 데이터를 교환할 때 연결을 설정하는 경우로, 연결 설정, 데이터 전송, 연결 해제 3단계로 구성된다. 대표적인 예로 전송 제어 프로토콜(Transmission Control Protocol, TCP)가 있고, 이러한 연결 제어 패킷을 이용하면 네트워크 연결을 끊을 수도, 해당 세션을 빼앗을 수도 있다. 
  - `비연결 지향형 데이터 전송`은 사용자 데이터그램 프로토콜(User Datagram Protocol, UDP)와 같이 연결을 설정하지 않은 경우다. <br>이렇게 전송되는 데이터들은 데이터그램(Datagram) 이라고 한다.
- `오류 제어(Error Control)` 프로토콜 데이터 단위로 데이터를 교환할 때 서비스 데이터 단위나 PCI가 잘못되었는지 발견하는 기법을 의미한다. <br>데이터의 오류나 누락 없이 안전한 전송을 보장해주어야 하는데, 오류나 누락이 발생할 경우 재전송을 수행하여 이를 보장한다. <br>데이터의 오류는 송신측에서 계산한 체크섬(checksum)을 수신측에서 검증하여 오류 여부를 판단한다. 오류의 발생 여부는 패리티 비트(parity bit)나 잉여도 검사(Cyclic Redundancy Check)를 통해 발견할 수 있다. <br>오류 제어는 순서 검사나 특정 시간 안에 데이터를 받지 못하면 재전송을 요구하는 방식으로 이루어진다.
  -  `패리티 비트, 잉여도 검사, 체크섬 추후 기술`
- `동기화(Synchronization)` 송·수신측 간의 데이터를 주고받는 시점을 정확하게 일치시키기 위한 기법이다.
- `다중화(Multiplexing)` 하나의 통신 선로에서 시스템이 동시에 통신할 수 있는 기법을 다중화라고 한다. 조금 더 쉽게 말하자면 하나의 기능 <br>혹은 매체를 여러 영역에서 동시에 사용하는 기법을 말한다. <br>역다중화는 공유하는 기능이나 매체로부터 개별 영역으로 분할하는 기법을 말한다.
- ` 전송 서비스` 우선순위를 결정하고, 서비스 등급과 보안 요구 등을 제어하는 서비스이다

#### Protocal Data Unit(PDU)
- 세션, 표현, 어플리케이션 계층: Message(Data)
- 전송 계층: Segment
- 네트워크 계층: Packets(Datagram 이라고도 함)
- 데이터링크 계층: Frame
- 물리 계층 : Bit

### 데이터 캡슐화
<img width="85%" height="450" alt="image" src="https://user-images.githubusercontent.com/98382954/180746733-82573b53-9dd2-4cf5-bb50-d658365aaf17.png"><br>

#### Protocal Data Unit 구성
- SDU(Service Data Unit) : 전송하려는 데이터
- PCI(Protocal Control Information) : 제어 정보(송신자와 수신자 주소, 오류코드 프로토콜 제어 정보등이 있음)

#### 캡슐화 적용 방식
-  상위 계층의 정보를 자신의 계층 특성을 담은 제어정보(주소, 에러 제어 등)를 헤더화 시켜 덧붙여 나가는 방식이다.
-  역 캡슐화는 하위계층으로부터 넘어온 데이터의 헤더를 제거한후 넘겨주는 방식이다.

---
#### 프로토콜의 계층화란?
- 프로토콜이 수행하는 통신 절차 및 규약들을 단계적으로 분리 후 통신 범위 및 한계에 따라 층(Layer)라는 형태로 정의 한 후 다시 <br> 층간의 수직적인 형태로 정의해놓은 절차를 따라 상대방 계층간의 통신을 하도록 만드는 것이다.

##### 계층화를 구조화 하는 이유는?
- 네트워크 시스템은 복잡한 논리적인 시스템이므로 각 기능을 효과적으로 분리하고 공통적인 서비스를 공유할 필요가 있다.
- 복잡한 시스템을 명확하고 구체적으로 구분할 수 있고 이것은 기능단위로 모듈화가 가능해진다는 것이다.
- 각각의 계층을 독립적으로 유지하고 관리할 수 있기 때문이다.
- 복잡한 작업을 여러개의 작고 단순한 작업들로 쪼갠다

- 하나의 데이터가 수신자에게 도착하기 위해 각 계층들을 통과해야 한다는 점 때문에 과다한 처리의 오버헤드 쿨럭과 지연 시간이 증가한다는 단점도 존재한다.

## 프로토콜을 계층적으로 분류한 대표적인 두가지 형태는 OSI 7계층과 TCP/IP 모델이 존재한다.

## OSI 7 계층을 알아야 하는 이유
- 컴퓨터 네트워크를 구성하는 네트워킹 장치들이 데이터를 어떻게 주고받는지에 대한 이해가 컴퓨터 정보통신 분야의 <br>기본이라 할 수 있다.
- OSI 참조 모델은 이러한 컴퓨터 네트워크를 이해하는 데 있어 가장 먼저 숙지해야 할 사항이며 컴퓨터 네트워크를 <br> 설계하거나 네트워크 프로토콜을 설계하기 위한 지침으로 이용하기도 한다.
- - 기본적으로 프로토콜은 통신 기능의 확장과 새로운 통신 기술, 방식의 도입을 쉽게 만들기 위하여 적절한 기능 단위로 프로토콜 층이라 불리는 계층으로 분할된다.<br> 아키텍처에 따라 다소 다르지만, 기본적으로는 물리적, 전기적 인터페이스, 노드 간의 데이터 전송 등을 규정하는 데이터 전송제어에 관한 계층과 메시지 전송, <br>파일 전송 가상 단말 기능 등을 규정하는 통신처리에 관한 계층으로 구분하고 있다. 
   - OSI 모형은 응용계층, 프레젠테이션 계층, 세션 계층, 네트워크 계층, 데이터 링크 계층, 물리 계층 총 7개의 층으로 계층화하 고 있다.
     - OSI 7계층을 이해하고 있으면, 해당 계층에 존재하는 프로토콜의 역할을 이해하는 데 도움을 주고 각 계층간 데이터 통신을 이해할 수 있게 된다.

## OSI 7계층이란?
- Open Systems Interconnection(개방형 시스템 상호연결)의 약자로, 네트워크에서 통신이 일어나는 과정을 7계층으로 나눈 모델.
- 1계층인 물리계층(Physical Layer), 2계층인 데이터링크 계층(DataLink Layer), 3계층인 네트워크 계층(Network Layer), <br>4계층인 전송 계층(Transport Layer), 5계층인 세션 계층(Session Layer), 6계층인 표현 계층(Presentation Layer), <br>7계층인 응용 계층(Application Layer)으로 구성되어 있다.

- 이 모델은 모든 통신 관련 시스템, 즉 각종 네트워크 장비 및 컴퓨터기기 등에 동일하게 적용이 되는 개념이며 <br>우리가 사용하고 접하는 모든 통신 관련 시스템은 이 OSI 7 계층 범주에 속하게 된다.
  -  필요에 따라 모든 하드웨어 및 소프트웨어는 하나의 계층만으로 구현될 수도 있고 여러 개의 계층에 걸쳐 구현될 수도 있다. <br>두 컴퓨터가 서로 네트워크를 형성하여 데이터를 주고받기 위해서는 7계층이 다 구현되어야 하며, 각각의 계층은 서로 독립된 기능을 <br>제공한다. 
     - 서로 인접한 계층 간에만 의존하게 된다.

![image](https://user-images.githubusercontent.com/98382954/180646798-7d1f4146-8055-4b85-97f6-84f49640c2a7.png)
#### OSI 7계층을 나눈 의의?
- ISO(국제표준화기구)가 1984년에 발표했다. 통신이 일어나는 과정을 7단계로 크게 구분하여 한 눈에 들어올 수 있도록 정의했기 때문에 <br>단계별로 파악할 수 있다는 장점이 있다.
- 컴퓨터 통신 구조의 모델과 앞으로 개발될 프로토콜의 표준적인 뼈대를 제공하기 위해 개발된 참조 모델이어서 OSI 7 계층 모델을 알면 <br>네트워크 구성을 예측하고 이해할 수 있다
- 네트워크에서 트래픽의 흐름을 꿰뚫어 볼 수 있으며, 각 계층은 독립되어 있다.
- 7단계 중 특정한 곳에 이상이 생기면 다른 단계의 장비 및 소프트웨어를 건드리지 않고도 이상이 생긴 단계만 고칠 수 있다.
- 분산된 이기종 시스템간의 네트워크 상호호환을 위한 표준 아키텍처를 정의할수 있다.

#### OSI 7계층의 특징?
![image](https://user-images.githubusercontent.com/98382954/180658609-9909e862-b7d3-45b8-a403-7f8f3a6064a5.png)
- OSI 7계층에서는 데이터를 보낼 때(송신) 상위 계층(7계층) -> 하위 (1계층)순으로 데이터를 전달한다. 데이터를 받을 때(수신) 반대로 <br>하위 계층(1계층) -> (7계층) 순으로 전달된 데이터를 받게 된다.
- OSI 7계층에서 데이터를 송신하는 과정 중 사용자 데이터가 각 계층을 지나면서 하위 계층은 상위 계층으로부터 온 정보를 데이터로 <br>취급하며 자신의 계층 특성을 담은 제어정보(주소, 에러 제어 등)를 헤더화 시켜 붙이는 과정을 **데이터 캡슐화**라고 부른다.
- >**캡슐화**의 장점은 동일 계층 간의 호환성을 유지할 수 있고 오류의 영향을 최소화할 수 있다는 것이다.
- OSI 7계층에서 데이터를 수신하는 과정 중 사용자 데이터가 각 계층을 지나며 상위 계층은 하위 계층으로부터 온 정보를 데이터로 <br> 취급하고 상위 계층으로 데이터를 넘겨줄 때는 송신 측 각 계층에서 추가된 헤더를 제거 후 데이터를 넘겨주는 과정을 <br> **데이터 역캡슐화**라고 부른다

- OSI 계층에서 각 계층에서 수행되는 프로토콜이 상호 독립적이라고 간주하게 된다. 
  - 따라서 각 계층마다의 프로토콜의 명칭이 다르며 각 계층에서 규격화된 데이터는 아래와 같은 고유한 명칭이 존재한다.
    - APDU(Application Protocal Data Unit) 응용 계층에서 사용하는 데이터의 단위
    - PPDU(Presentation Protocal Data Unit) 표현 계층에서 사용하는 데이터의 단위
    - SPDU(Session Protocal Data Unit) 세션 계층에서 사용하는 데이터의 단위
    - TPDU(Transport Protocal Data Unit) 전송 계층에서 사용하는 데이터의 단위
      -  통신 환경에서 사용하는 전송계층 프로토콜인 TCP에선 세그멘트(Segment) UDP에서는 데이터그램(datagram)이라고 부른다.
    - NPDU(Network Protocal Data Unit) 네트워크 계층에서 사용하는 데이터의 단위
    - DPDU(Data Link Protocal Data Unit) 데이터 링크 계층에서 사용하는 데이터의 단위 - `보통 프레임이라고 부른다.`

---
### OSI 7계층을 기능별로 나눈다면
- OSI 7 계층은 크게 전달 기능과 전송 기능으로 구분하여 이해할 수 있다.
  - `전달 기능(하위 4계층)`  송신 측과 수신 측의 연결을 설정한다거나 데이터가 전달되는 최적의 경로 설정과 오류제어, 에러 제어, 데이터 <br>손실을 막기 위한 흐름 제어 등의 역할을 수행하며 대부분이 데이터가 무사히 수신 측에 도착할 수 있도록 도와주는 역할을 한다.
  - `통신 기능(상위 3계층)`  상위 3 계층에서는 응용프로그램과의 통신관리와 동기화 서비스를 유지하는 기능, 데이터의 번역을 통해 일관되는 데이터 전송 및 암호화와 압축 기능 등 데이터 통신을 위한 여러 기능들이 주를 이루고 있다.
---
### LAYER1 - 물리 계층(Physical Layer-1 계층)
- 전송단위 : bits
- 프로토콜 : RS-232, 10 BASE-T, DSL 등
- 관련 장치 : 허브와 리피터
- 역할 : 전송매체를 통한 데이터 전송 및 데이터의 신호변환 

- 물리 계층은 사용자 데이터를 물리 매체상에서 소통이 가능한 통신 신호로 변환하여 전송하는 역할을 담당하는 계층이다.
  - 신호 전송을 위한 링크의 설정과 유지 그리고 전기적, 기능적,절차적,물리적 특성들을 포함하고 있다.
    - `전기적 특성` 전압 레벨과 전압이 변하게 되는 시점과 관련된 특성이다.
    - `기능적 특성` 매체를 통해 물리적으로 연결된 장치 간에 데이터를 주고받을 때 사용되는 케이블의 기능적 특성(와이어링 맵, 핀의 기능)을 정의한다.
    - `절차적 특성` 데이터를 성공적으로 전송하기 위한 절차를 규정한다.
    - `물리적 특성` 표준(RS-232C, V.24, V.35 등) 케이블 간의 물리적 연결을 정의한다.
  - 하드웨어와 전송 기술에 관한 계층으로 실질적으로 전송을 담당하는 계층이며 통신을 위한 물리적 표준을 정의하는 계층이다.
  - 위의 특성들을 정해 두 컴퓨터 간 전기적,기계적,절차적 연결의 표준을 정의하고 상위 계층에서 전송된 데이터를 물리 매체를 통해 다른 시스템에 전기적 신호로 전송한다.
  - 물리 계층은 이 계층에서는 단지 데이터를 전달만 할뿐 전송하려는(또는 받으려는)데이터가 무엇인지, 어떤 에러가 있는지 등에는 전혀 신경 쓰지 않는다. 
    - 물리 계층에서 데이터를 송,수신하는 과정에서 예기치 않은 오류가 발생했을 때, 이러한 오류를 복구하는 건 수행하지 않는다.
  - 데이터 전기적인 신호로 변환해서 주고받는 기능만 할 뿐이다. 
    - 이 계층에 속하는 대표적인 장비는 통신 케이블, 리피터, 허브등이 있다.
      - `허브` 전기 신호를 증폭시켜 우리가 알고있는 랜선으로 

##### 물리계층에서 두대 이상의 컴퓨터간의 통신을 하려면?
- OSI 7계층중 유일하게 하드웨어와 관련된 계층인 물리계층은 데이터를 '전기신호'로 바꾸어 전송하는 일을 한다.
  - 컴퓨터에서 데이터는 실제로는 0과 1만 사용되며, 이것을 '잘' 주고받을 수 있으면 된다. 0과 1은 흔히 비트(bit) 라고 불린다.
    - 물리계층에서 bit는 일반적으로 데이터 속도 byte는 데이터의 크기를 의미한다.
  - 물리 계층은 이러한 0과 1이 다른 컴퓨터로 전달되는데에 핵심적인 역할을 한다. 0과 1은 신호를 통해 주고받을 수 있는데, <br>신호의 종류는 아날로그 신호 와 디지털 신호 가 있다.
- 아날로그 신호는 0과 1사이의 값이고 디지털 신호는 정확히 0 과 1을 갖게되는데 여기서 문제는 0과 1을 <br>전기신호로 변환하여 직접적으로 전달할 수 없다는 데 있다.
  - 데이터를 전기신호로 흘려 전송하는 방식인데 네트워크가 구축된 두 장치가 정확히 디지털 신호를 인식하기 어렵기 때문이다.
    전기 신호를 주고 받았을 때 스위치의 형태로 흘렀는지의 기준을 정의하기가 어렵기 때문인데 그래서 주파수 개념이 등장한다.
    아날로그 신호로 동작하는 전기신호가 1초간 두번 진동할 수 있는 (2HZ) 파동이라는 것을 알면 진동할 때마다 전기 신호로 해석할 수 있기 때문이다.
    - 이론상 0~무한대 까지의 주파수를 갖는 디지털 신호를 마음대로 만들어낼 수 있지만, 현실 세계에 있는 매개체들은 그 신호를 전부 감당할 수 없다.<br>이러한 이유로 컴퓨터의 네트워크도 무한한 주파수의 디지털 신호를 한번에 보낼 수 없고, <br>전선이 감당할 수 있는 적당한 단위로 끊어서 보내야 한다.

##### UTP 케이블이란?
- 물리 계층은 데이터를 규정된 신호로 변환하고 케이블을 통해 전달하게 된다.
  - 구리선이 전도율이 우수하고, 부식에 대한 특성및 유연성이 뛰어나며 동시에 강도가 좋아 널리 이용되는데 이 구리선을 이용한 케이블이 <br>UTP케이블이다.
    - UTP케이블은 일반적으로 로컬 네트워크 구현 시 가장 많이 이용되는데 서로 쌍으로 꼬인 구리선이 몇가지 다른색의 <br>보호 절연체로 감싸져 있는 매체이다.
    - 이 UTP케이블을 컴퓨터,스위치,라우터등 타 장치와 연결할 시 적절한 표준 커넥터가 필요한데 <br>이 커넥터가 RJ-45(Registered Jack 45이다)

##### 랜카드란?
- 물리 계층에서 0과 1이라는 디지털 신호를 이용해 송신할 데이터를 만들면 데이터를 전송하기 위해 전기를 흘려야 하며 <br>전기는 UTP케이블이라는 전선을 통해 흘러갈 것이다.
  - 랜카드가 디지털 신호를 전기 신호로 만들어주는 주체이다.<br>
    랜카드는 보내야 하는 디지털 신호를 아날로그 전기 신호로 바꾸고, 바꾼 전기 신호를 UTP 케이블을 통해 날린다.
---
### LAYER2 - 데이터 링크 계층(Data Link Layer - 2 계층)
- 전송단위 : 프레임(frames)
- 프로토콜 : Ethernet, 토큰링, ATM 등
- 관련 장치 : 브리지나 스위치
  - `브리지`는 스위치에 그 기능이 통합되어 요즘은 거의 사용되지 않는다.
  - `스위치`는 프레임을 효율적으로 전송하기 위해 MAC 테이블(Address ,Port) 주소를 미리 만들고 이를 참조하여 프레임을 전송한다.
- 역할 : MAC 주소를 사용하며 신뢰성 있는 정보를 전송하기 위한 역할을 수행한다.

###### 인접한 두 시스템 간의 전송을 담당하는 데이터링크 계층은 디지털 장비의 고유한 물리 주소인 MAC 주소를 사용하며 데이터의 정확한 송수신을 위한 전송 제어와 <br>오류제어, 데이터 전송 시 순서 제어와 데이터 손실을 막기 위해 양을 조절하는 흐름 제어와 같은 정보를 필요에 따라 추가한다.
- 직접 연결된 서로 다른 2개의 네트워킹 장치 간의 데이터 전송을 담당하는 계층이며 2계층에서 사용하는 데이터를 일반적으로 <br> 프레임(frame)이라고 한다.
- 2계층에서 사용되는 다양한 프로토콜들은 용도에 따라 프레임의 종류,길이 등의 정보를 정의하고, 일반적으로 <br>MAC(Media Access Control)이라고 하는 매체 접근 제어 기능과 48비트의 주소 및 물리 계층에서 전송된 비트 스트림의 경계를 구분하기 위한 <br> 프레임 데이터 동기 정보, 각각의 신호 비트들을 식별하는 기능 등을 사용해 프레임을 전송한다.
  - 데이터 링크 계층에서 사용하는 MAC 주소는 물리 주소(Physical Address) 주소 혹 하드웨어 주소(Hardware Address)주소라 하며 <br> 이 주소는 장치를 만들 때 장치 내 ROM에 영구적으로 기입되 나와 구워진 주소(Burned-In Address)라고도 한다.
- 다음은 데이터 링크 계층의 주요 역할이다.
  - `프레이밍` 물리 계층을 통해 수신한 신호를 조합 프레임(frame) 단위의 정해진 크기의 데이터 유닛으로 만들어 처리하는 것이다.<br>
   또는 역으로 상위 계층에서 내려온 정보를 프레임 크기의 데이터 유닛으로 만들어 신호로 전송한다.
  - `흐름 제어` 송수신 간에 데이터를 주고받을 때 너무 많거나 너무 적게 데이터를 송수신 하지 않도록 흐름을 적절히 제어한다.
  - `오류 제어` 프레임 전송 시 발생한 오류를 복원,재전송한다. 비동기 통신에서는 검출만, 동기 통신에서는 오류 검출 및 정정기능을 제공한다.
  - `접근 제어` 매체상에 통신 주체가 복수일때 매체와 통신 주체간의 상태를 고려해 데이터를 전송할 수 있는지 없는지를 검사한다.
  - `동기화` 프레임 헤더에는 사용되는 데이터링크 계층 프로토콜에 따라 프레임의 구분자나 전송된 프레임의 타이밍 <br>정보를 맞추기 위해 필요한 특별한 비트 패턴을 제공하고 있다.
  
- 위 기능을 수행하기 위해 2계층에선 헤더와 트레일러를 사용한다.
  - `헤더`는 일반적으로 송수신 장치의 주소가 포함되어 있다.
  - `트레일러`는 오류 검출을 위한 오류 검출 코드가 들어가게 된다.
---
### LAYER3 네트워크 계층(Network Layer-3계층)
- 전송단위 : 패킷 (packet)
- 프로토콜 : IP, ICMP, ARP, RIP, IGMP 등
- 관련 장치 : 라우터
  - `라우터` 패킷을 전송하는 장치로써 패킷을 수신하면 어떤 경로로 패킷을 전소하는 것이 제일 효율적인지 현재 운용중인 <br> 라우팅 프로토콜에 따라 판단하고 결정된 경로로 해당 패킷을 전송한다.
- 역할 : 데이터 전송 시 경로제어 및 인터네트워킹

- 네트워크 계층은 사용자 데이터를 전달 하기 위해 논리적 통신 채널(Peer-to-Peer communication)을 통해 상위 계층으로 부터 받은 데이터를<br> 패킷(또는 데이터그램) 이라 불리는 단위로 규격화, 전송, 수신하는 기능을 수행한다.
  - 네트워크 계층은 IP주소를 기반으로 패킷이라는 데이터를 송수신하는데 이 때 사용되는 장치가 `라우터`나 `스위치`이다.
- 네트워크 계층의 프로토콜 : 패킷의 전달을 책임지는 IP
  패킷 전달 에러의 보고 및 진단을 위한 ICMP
  복잡한 네트워크에서 인터네트워킹을 위한 경로를 찾게해주는 라우팅 프로토콜  
- 다음은 네트워크 링크 계층의 주요 역할이다.
  - `패킷 전달` 종단 간(end-to-end)의 패킷 전달을 수행한다<br>
   - **BE방식으로서 헤더가 깨지지 않았는지 수신처의 주소등은 확인하지만 재전송은 하지않는 결과를 보장하지 않는 방식이다.**.<br>
  - `라우팅` 종단 간 패킷 전송시, 라우팅 프로토콜을 기반으로 가장 효율적인 경로를 선택하여 패킷을 전송할 수 있게 한다.
  - `논리적인 주소(Logical Address)` IP주소를 사용하여 사용자 데이터를 목적지 장치까지 전달한다.
    - 전송 계층으로 부터 받은 정보에 송수신 장치의 IP주소를 포함하는 IP프로토콜 헤더를 붙이는 캡슐화를 수행한 후 전송한다.

---
### LAYER4 전송 계층(Transport Layer-4계층)
- 전송단위 : 세그먼트 (segments)
- 프로토콜 : TCP, UDP 등
- 역할 : 송신 측과 수신 측의 연결 설정 및 유지

- 전송 계층은 통신간 데이터 전송을 위해 종단간 통신을 제어하며 세그먼트(segment)라 불리는 크기의 데이터 유닛을 처리한다.
- 전송 계층은 상위 3계층, 하위 3계층 사이의 중간적인 특성을 가지고 있다.
- 말 그대로 데이터 전송에 관한 서비스를 제공하는 계층으로 송/수신 측의 실질적인 연결을 설정하고 신뢰성 있는 통신이 가능하도록 한다.
- 전송계층에서는 전체 메시지의 전송을 책임진다. <br>송/수신 프로세스 간의 연결을 설정한 뒤 오류 복구나 흐름 제어를 통해 안전하게 전체 메시지가 전달될 수 있도록 지원한다.



- 다음은 전송 계층의 주요 역할이다.
  - `종단 간 데이터 통신 보장` 종단 간 데이터 전송에 필요한 통신 채널을 통해 흐름제어 , 오류 제어등 수행해 <br> 사용자 데이터의 통신을 보장
  - `지연에 따른 왜곡 및 대역폭 부족 문제 해결`
  - `동시에 여러 개의 논리적 연결을 지원` 


---
### LAYER5 세션 계층(Session Layer-5계층)
- 전송단위 : data
- 프로토콜 : SSL, TLS, NetBIOS 등
- 역할 : 응용프로그램들 간의 통신관리 및 동기화 유지

- 응용프로그램들 간의 통신을 주로 관리하는 세션 계층에서의 핵심 역할은 동기화이다. 
  응용프로그램들 사이의 접속을 설정하고 유지하며 데이터 전송 시 동기점을 제공해서 오류 발생 시 데이터를 재전송하거나 복구할 수 있다.
  종단간 통신 세션의 시작과 종료를 정의한다.(포트번호를 기반으로 동작) 
   - 세션 계층을 포함한 상위 계층에서 사용되는 데이터를 메세지(Message)라 부른다
- 세션 계층의 주요 기능으로는 다중화, 오류 복구, 데이터 교환 등이 있다. 

---
### LAYER6 표현 계층(Presentation Layer-6계층)
- 전송단위 : data
- 프로토콜 : SMB, AFP 등
- 역할 : 데이터의 번역 및 암호화

- 표현 계층은 데이터의 표현방식에 관한 서비스가 이루어진다.
  - 송/수신자가 서로 다른 문자를 사용하는 경우 번역해서 일관된 데이터 전송으로 인해 서로 이해할 수 있도록 돕는 역할을 한다.
- 암호화된 데이터의 해독을 수행하고 필요에 따라 데이터의 압축 기능(데이터가 효율적으로 송수신되도록)을 제공하기도 한다

---
### LAYER7 응용 계층(Application Layer-7계층)
- 전송단위 : data
- 프로토콜 : HTTP, SMTP, POP3, DNS, SSH 등
- 역할 : 응용프로그램과 연계하여 사용자의 편리한 환경 제공

- OSI 최상위 계층이며 데이터 형식 정의,암호화,압축,부호화하는 상위 계층의 기능을 포괄적으로 의미하기도 한다.
- 사용자에게 직접 제공되는 서비스나 프로그램은 대부분 응용계층에 해당한다.
- 통신 권한을 설정할 수 있고, 통신 절차의 시작과 종료를 포함하는 대화 방법을 선택할 수 있는 등의 기능을 가지고 있다.
- 응용 애플리케이션이라고도 불리며 사용자의 명령에 따라 특정 작업을 수행하는 소프트웨어나 인터페이스를 제공하는 여러 프로토콜 등<br> 다양한 범주에서 정보를 처리하는 역할을 수행한다.

---
### Reference
<https://blog.naver.com/jell2000/90073632976><br>
<https://velog.io/@daydream_03/네트워크><br>
<https://tgyun615.com/107><br>
<http://wiki.hash.kr/index.php/OSI_7_계층><br>
<https://www.crocus.co.kr/1102><br>
<https://velog.io/@jeongs/네트워크-OSI-7-계층-그림과-함께-이해하기><br>
<https://codingpractices.tistory.com/96><br>
<https://liveyourit.tistory.com/186><br>
<https://wiseworld.tistory.com/55><br>
<https://velog.io/@soo5717/OSI-7-Layer><br>
<https://kyc1010.tistory.com/3><br>
<https://velog.io/@jakeseo_me/OSI-7%EA%B3%84%EC%B8%B5-%EC%8B%9C%EB%A6%AC%EC%A6%88-1-OSI-7%EA%B3%84%EC%B8%B5-%EC%86%8C%EA%B0%9C-%EB%B0%8F-%EB%AC%BC%EB%A6%AC-%EA%B3%84%EC%B8%B5%EC%97%90-%EB%8C%80%ED%95%9C-%EC%84%A4%EB%AA%85><br>



