## Namespace
자원을 그룹화해 관리할 수 있는 것이며 레이블과 비슷해 보이지만 특성이나 목적이 매우 다르다.

네임스페이스를 활용하면 멀티 호스트로 구성된 쿠버네티스 클러스터를 논리적 자원 풀로 나눌 수 있다.
네임스페이스는 쿠버네티스 자원에 대한 영역을 제공하고, 또한 권한과 정책을 클러스터의 하위 섹션에 적용하는 매커니즘을 제공한다.

### 일반적인 예
개발 환경, 테스트 환경 등 다양한 소프트웨어 환경으로 구분
- 멀티테넌시를 구현하는데 쓰이고, 팀의 작업공간이나 각 프로젝트, 심지언 특정 애플리케이션을 격리하는데도 사용할 수 있다.

**하지만 환경을 효과적으로 격리하려면 네임스페이스로 효과적이지 않고 클러스터를 분리하는것이 일반적**

### 특징 및 사용례
- 네임스페이스는 쿠버네티스 자원으로서 관리된다.
- 네임스페이스는 컨테이너, 파드, 서비스, 레플리카셋 등의 자원에 대한 영역을 제공한다.
  네임스페이스 내에서 자원 명은 고유해야 하지만, 다른 네임스페이스에서는 동일한 자원 명을 가질 수 있다.
- 네임스페이스는 자원에 대한 영역을 제공하지만 이들 자원을 격리할 수는 없으며 하나의 자원이 다른 자원에 접근하는 것도 막을 순 없다.
    - 파드 IP주소를 아는 경우라면 개발 네임스페이스의 파드는 운영 네임스페이스의 파드에 접근할 수 있다.
        - 하지만 원한다면 진정한 멀티테넌시를 구현할 수 있도록 네트워크 격리를 제공해주는 쿠버네티스 플러그인을 사용할 수 있다.
- 네임스페이스 자체나 노드, PV같은 자원은 네임스페이스에 속하지 않으며 클러스터 전체에서 유일한 이름을 가져야 한다.
- 각 쿠버네티스 서비스는 네임스페이스에 속하며, <service-name>.<namespace-name>.svc.cluster.local 형식으로 네임스페이스가 포함된 DNS를 가진다.
    - 네임스페이스 이름은 해당 네임스페이스에 속한 모든 서비스의 URL에 존재하므로, 네임 스페이스 이름을 잘 정하는건 중요하다
- 리소스쿼터는 네임스페이스당 자원 소모량을 제한할 수 있는 제약조건을 제공한다.
    - 관리자는 이걸 사용해 타입별 객체의 수량을 제어할 수 있다.
      예로 특정 네임스페이스에 컨피그맵 5개, 시크릿 5개 파드 10개만 생성되도록 제어 가능
- 리소스쿼터는 네임스페이스 별로 사용자가 요청하는 총 컴퓨팅 자원량을 제한할 수 있다.
    - 32GB RAM과 16코어를 갖춘 클러스터에서 운영 네임스페이스에선 자원 절반, 스테이징에선 4분의1 등 자원 할당을 할 수 있고 네임스페이스와 리소스쿼터를 이용해 객체 그룹에 제약을 거는 기능은 중요

#### Default Namespace 변경

기본으로 사용되는 namespace를 default가 아닌 다른 이름의 namespace로 switch
k8s의 config에 ns를 등록해야 하는데 그 공간을 k8s config의 context라고 부름

1) namespace를 포함한 context 등록
   $ kubectl config --help
   $ kubectl config set-context NAME --cluster=kubernets --user=kubernetes-admin --namespace=ex-ns
   $ kubectl config view
2) 등록된 namespace로 context 변경
   $ kubectl config use-context NAME

