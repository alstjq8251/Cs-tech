### 스키마
![image](https://github.com/alstjq8251/Cs-tech/assets/98382954/d4c50fa0-4b69-4456-b66a-9b5b03f86be0)

`정의`
  - 데이터베이스의 구조와 제약조건에 관해 전반적인 명세를 기술한 것
  - 데이터베이스를 구성하는 데이터 개체(Entity), 속성(Attribute), 관계(Relationship) 및 데이터 조작 시 
  
    데이터 값들이 갖는 제약 조건 등에 관해 전반적으로 정의한다.
  - 사용자의 관점에 따라 외부 스키마, 개념 스키마, 내부 스키마로 나눠진다.

`특징`
  - 데이터 사전(Data Dictionary)에 저장되며, 다른 이름으로 메타데이터라고도 한다.
    - Data Dictionary란 데이터베이스에 저장되어 있는 모든 데이터 개체들에 대한 정보를 유지, 관리하는 시스템을 의미한다.
    - 대부분 읽기전용으로 제공되는 테이블 및 뷰들의 집합으로 데이터베이스 전반에 대한 정보를 제공.
    - MySQL 에서는 information_schema 가 데이터 사전을 의미   
  - 현실 세계의 특정한 한 부분의 표현으로서 특정 데이터 모델을 이용해서 만들어진다.
  - 시간에 따라 불변인 특성을 갖는다.
  - 데이터의 구조적 특성을 의미하며, 인스턴스에 의해 규정된다.

### 3층 스키마
- 사용자, 설계자, 개발자가 데이터베이스를 보는 관점에 따라 데이터베이스를 기술하고 이들 간의 관계를 정의한 ANSI 표준이다.
  - Ansi표준은 데이터베이스와 관련된 표준을 정의한 것으로 ANSI SQL이란 것이 있으며 SQL문이 
  
    데이터베이스 관리 시스템(Oracle,DB2,Mysql)등에서 호환되도록 정의한 표준이다.
- 3층 스키마는 데이터베이스 독립성을 확보하기 위한 방법이다.
  - 독립성을 확보하면 얻는 이점은 하단과 같다.
    1. 데이터 복잡도 감소
    2. 데이터 중복 제거
    3. 사용자 요구사항 변경에 따른 대응력 향상
    4. 관리 및 유지보수 비용 절감 
- 3단계 계층으로 분리해서 독립성을 확보하는 방법으로 각 계층을 `뷰(View)`라고도 한다.
  - 뷰는 가상의 테이블이라고 이해해도 된다.
 
 |독립성| 설명|
 |:--:|:--:|
 |논리적 독립성| 개념적 스키마가 변경되더라도 외부 스키마가 영향을 받지 않는다.|
 |물리적 독립성| 내부 스키마가 변경되더라도 개념적 스키마에 영향을 받지 않는다.|
 
 #### 3층 스키마 구조
 ![image](https://github.com/alstjq8251/Cs-tech/assets/98382954/d2a30c41-ca17-494a-9b1e-52a03b341524)

|구조| 설명|
|:--:|:--:|
|외부 스키마(External Schema)| - 사용자 관점, 데이터 업무상 관련이 있는 데이터 접근이다.<br> - 관련 데이터베이스의 뷰(view)를 표현한다. <br> - **응용 프로그램이 접근하는 데이터베이스**를 정의한다.|
|개념 스키마(Conceptual Schema)| - 설계자 관점, 사용자 전체 집단의 데이터베이스 구조이다. <br> - 전체 데이터베이스 내의 규칙과 구조를 표현한다. <br> **통합 데이터베이스 구조**이다.
|내부 스키마(Internal Schema)| - 개발자 관점, 데이터 베이스의 **물리적 저장 구조**이다. <br> - 데이터 저장 구조, 레코드 , 필드 정의, 인덱스 등을 의미한다.

`3층 스키마에 대한 구체적 설명`
1. 외부 스키마 = 사용자 뷰
  - 외부스키마는 전체 데이터베이스의 한 논리적인 부분으로 볼 수 있으므로 서브 스키마(Sub Schema)라고도 한다.
  - 외부스키마는 사용자나 응용프로그래머가 각 개인의 입장에서 필요로 하는 `데이터베이스의 논리적 구조`를 정의한 것이다.
  - 하나의 데이터베이스 시스템에는 여러개의 외부 스키마가 존재할 수 있으며 하나의 외부 스키마를 여러개의 응용 프로그램이나 사용자가 공용할 수도 있다.

2. 개념 스키마 = 전체적인 관점
  - `데이터베이스의 전체적인 논리적 구조`로서, 조직 전체의 데이터베이스로 하나만 존재한다.
  - 개체간의 관계와 제약 조건을 나타내고 데이터베이스의 접근 권한, 보안 및 무결성 규칙에 관한 명세를 정의한다.
  - 데이터베이스 파일에 저장되는 데이터의 형태를 나타내는 것으로, 단순히 스키마(Schema)라고 하면 개념 스키마를 의미한다.

3. 내부 스키마 = 저장 스키마(Storage)
  - 물리적 저장장치의 입장에서 본 데이터베이스 구조로, 물리적인 저장장치와 밀접한 계층이다.
  - 실제로 데이터베이스에 저장될 레코드의 물리적인 구조를 정의하고, 저장 데이터 항목의 표현방법, 내부 레코드의 물리적 순서 등을 나타낸다.

### Reference
<https://jwprogramming.tistory.com/47><br>
<https://coding-factory.tistory.com/216><br>
<https://github.com/NKLCWDT/cs/blob/main/Database/%EC%8A%A4%ED%82%A4%EB%A7%88(Schema).md><br>
